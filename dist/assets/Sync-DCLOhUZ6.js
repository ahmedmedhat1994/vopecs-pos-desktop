import{a as w,y as T,r as g,c as C,o as P,e as t,f as s,n as _,u as d,s as y,t as l,i as v,l as x,F as p,h as m,z as F,k as e,_ as O}from"./index-DKMurI2Z.js";const D={class:"sync-page"},I={class:"page-header"},L={class:"header-actions"},N=["disabled"],V={key:0,class:"animate-spin"},z={key:1},B={class:"page-content"},M={class:"status-icon"},$={class:"status-info"},A={key:0},E={key:1},j={key:0,class:"sync-progress"},q={class:"pending-section"},G={class:"pending-grid"},H={class:"pending-icon"},J={class:"pending-label"},K={class:"pending-count"},Q={key:0,class:"no-pending"},R={class:"logs-section"},U={class:"logs-container"},W={class:"log-icon"},X={class:"log-time"},Y={class:"log-message"},Z={key:0,class:"log-details"},ss={key:0,class:"no-logs"},ns=w({__name:"Sync",setup(as){const n=T(),r=g([]),u=g(!1),f=C(()=>[{type:"sales",icon:"ğŸ§¾",label:"Ù…Ø¨ÙŠØ¹Ø§Øª",count:n.pendingSales},{type:"customers",icon:"ğŸ‘¥",label:"Ø¹Ù…Ù„Ø§Ø¡",count:n.pendingCustomers},{type:"inventory",icon:"ğŸ“¦",label:"Ù…Ø®Ø²ÙˆÙ†",count:n.pendingInventory}]),h=o=>new Intl.DateTimeFormat("ar-SA",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(o),c=(o,i,a)=>{r.value.unshift({id:Date.now().toString(),type:o,message:i,timestamp:new Date,details:a}),r.value.length>100&&(r.value=r.value.slice(0,100))},b=async()=>{if(!(u.value||!n.isOnline)){u.value=!0,c("info","Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ©...");try{await new Promise(o=>setTimeout(o,500)),c("upload","Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©",`${n.pendingSales} Ø¹Ù…Ù„ÙŠØ©`),await new Promise(o=>setTimeout(o,800)),c("upload","Ø¥Ø±Ø³Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡",`${n.pendingCustomers} Ø¹Ù…ÙŠÙ„`),await new Promise(o=>setTimeout(o,600)),c("download","ØªØ­Ù…ÙŠÙ„ ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª","150 Ù…Ù†ØªØ¬"),await new Promise(o=>setTimeout(o,400)),c("download","ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©"),await new Promise(o=>setTimeout(o,300)),c("info","Ø§ÙƒØªÙ…Ù„Øª Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø¨Ù†Ø¬Ø§Ø­ âœ…"),n.triggerSync()}catch(o){c("error","ÙØ´Ù„ ÙÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©",o.message)}finally{u.value=!1}}},k=async()=>{confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø¬Ø±Ø§Ø¡ Ù…Ø²Ø§Ù…Ù†Ø© ÙƒØ§Ù…Ù„Ø©ØŸ Ù‚Ø¯ ÙŠØ³ØªØºØ±Ù‚ Ù‡Ø°Ø§ Ø¨Ø¹Ø¶ Ø§Ù„ÙˆÙ‚Øª.")&&(c("info","Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©..."),n.forceFullSync())},S=()=>{r.value=[],c("info","ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„Ø§Øª")};return P(()=>{c("info","ØªÙ… ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©")}),(o,i)=>(e(),t("div",D,[s("div",I,[i[0]||(i[0]=s("h1",null,"ğŸ”„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©",-1)),s("div",L,[s("button",{class:_(["sync-btn",{syncing:u.value}]),disabled:!d(n).isOnline||u.value,onClick:b},[u.value?(e(),t("span",V,"ğŸ”„")):(e(),t("span",z,"ğŸ”„")),y(" "+l(u.value?"Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©...":"Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¢Ù†"),1)],10,N)])]),s("div",B,[s("div",{class:_(["status-card",d(n).isOnline?"online":"offline"])},[s("div",M,l(d(n).isOnline?"ğŸŒ":"ğŸ“´"),1),s("div",$,[s("h3",null,l(d(n).isOnline?"Ù…ØªØµÙ„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…":"ØºÙŠØ± Ù…ØªØµÙ„"),1),d(n).lastSyncAt?(e(),t("p",A," Ø¢Ø®Ø± Ù…Ø²Ø§Ù…Ù†Ø©: "+l(d(n).lastSyncText),1)):(e(),t("p",E,"Ù„Ù… ÙŠØªÙ… Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø¨Ø¹Ø¯"))]),d(n).isSyncing?(e(),t("div",j,[s("div",{class:"progress-bar",style:x({width:`${d(n).syncProgress}%`})},null,4)])):v("",!0)],2),s("div",q,[i[1]||(i[1]=s("h2",null,"ğŸ“‹ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø¹Ù„Ù‚Ø©",-1)),s("div",G,[(e(!0),t(p,null,m(f.value,a=>(e(),t("div",{key:a.type,class:_(["pending-card",{"has-pending":a.count>0}])},[s("span",H,l(a.icon),1),s("span",J,l(a.label),1),s("span",K,l(a.count),1)],2))),128))]),d(n).totalPending===0?(e(),t("p",Q," âœ… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØ²Ø§Ù…Ù†Ø© ")):v("",!0)]),s("div",{class:"actions-section"},[i[5]||(i[5]=s("h2",null,"âš¡ Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø³Ø±ÙŠØ¹Ø©",-1)),s("div",{class:"actions-grid"},[s("button",{class:"action-card",onClick:k},[...i[2]||(i[2]=[s("span",{class:"action-icon"},"ğŸ”ƒ",-1),s("span",{class:"action-label"},"Ù…Ø²Ø§Ù…Ù†Ø© ÙƒØ§Ù…Ù„Ø©",-1),s("span",{class:"action-desc"},"ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…",-1)])]),i[4]||(i[4]=F('<button class="action-card" disabled data-v-a445f6a2><span class="action-icon" data-v-a445f6a2>ğŸ“¤</span><span class="action-label" data-v-a445f6a2>ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span><span class="action-desc" data-v-a445f6a2>ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©</span></button><button class="action-card" disabled data-v-a445f6a2><span class="action-icon" data-v-a445f6a2>ğŸ“¥</span><span class="action-label" data-v-a445f6a2>Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</span><span class="action-desc" data-v-a445f6a2>Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ù…Ù„Ù</span></button>',2)),s("button",{class:"action-card",onClick:S},[...i[3]||(i[3]=[s("span",{class:"action-icon"},"ğŸ—‘ï¸",-1),s("span",{class:"action-label"},"Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„Ø§Øª",-1),s("span",{class:"action-desc"},"Ù…Ø³Ø­ Ø³Ø¬Ù„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©",-1)])])])]),s("div",R,[i[6]||(i[6]=s("h2",null,"ğŸ“œ Ø³Ø¬Ù„ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©",-1)),s("div",U,[(e(!0),t(p,null,m(r.value,a=>(e(),t("div",{key:a.id,class:_(["log-entry",a.type])},[s("span",W,[a.type==="upload"?(e(),t(p,{key:0},[y("â¬†ï¸")],64)):a.type==="download"?(e(),t(p,{key:1},[y("â¬‡ï¸")],64)):a.type==="error"?(e(),t(p,{key:2},[y("âŒ")],64)):(e(),t(p,{key:3},[y("â„¹ï¸")],64))]),s("span",X,l(h(a.timestamp)),1),s("span",Y,l(a.message),1),a.details?(e(),t("span",Z,l(a.details),1)):v("",!0)],2))),128)),r.value.length===0?(e(),t("div",ss," Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³Ø¬Ù„Ø§Øª ")):v("",!0)])])])]))}}),es=O(ns,[["__scopeId","data-v-a445f6a2"]]);export{es as default};
